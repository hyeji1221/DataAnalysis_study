# 05-1 데이터 분석 패키지 준비하기

|  패키지  |                기능                 |     주요 함수      |
| :------: | :---------------------------------: | :----------------: |
|  넘파이  | 배열 계산 기능, 반올림, 버리기 기능 | floor, ceil, power |
|  판다스  | 데이터프레임으로 데이터 입력, 가공  | describe, groupby  |
| 맷플롯립 |            그래프 그리기            |  plot, hist, bar   |

이 외에도 math(수학), scipy(통계 분석), statsmodels(통계 모델 작성 및 분석) 등이 있다

# 05-2 넘파이로 배열 다루기

- 배열을 다루는 도구
- 숫자로 된 큰 배열 데이터를 다룰 때 진가를 발휘

### 배열의 크기 알아내기 : shape

### 배열의 원소 유형 확인하기 : dtype

**배열의 원소 유형에 따른 표기법**

|         원소 유형         |    표기법    |
| :-----------------------: | :----------: |
|     부호가 있는 정수      |  int(32,64)  |
|     부호가 없는 정수      | unit(32,64)  |
|           실수            | float(32,64) |
|          복소수           |   complex    |
| 불(참 거짓을 가지는 자료) |     bool     |
|          문자열           |    string    |
|      파이썬 오브젝트      |    object    |
|         유니코드          |   unicode    |

### 배열 유형 바꾸기 : astype()

### 넘파이 함수 알아보기

- np.zeros() : 0으로이뤄진 배열 만들기
- np.arange() : 연속형 정수 생성
- np.transpose() : 행과 열을 바꾸기

# 05-4 판다스로  데이터프레임 만들기

**데이터프레임** : 배열과는 또 다른 형태로 데이터를 쉽게 가공하기 위한 일종의 틀

**DataFrame()** : 딕셔너리형 자료를 판다스로 가공할 수 있는 데이터프레임으로 만드는 함수

### sum() : 합계

### mean() : 평균

### 데이터 선택하기

- df.[key 값] -> 추천
- df.key 값

## CSV 파일 불러와 데이터프레임 살펴보기

**read_csv()** : 판다스로 CSV 파일을 불러올 때 사용하는 함수

- 인코딩 방식으로 오류나는  경우 cp949 옵션 사용

**head(), tail()** : 처음 5개 행, 마지막 5개 행 출력하는 함수 -> 자료가 어떻게 들어가 있는지 볼 때 사용(많은 자료를 다루는  경우)

**loc[원하는 행의 조건,  원하는 열의 조건]** : 값 선택 시 더 정교하게 조건을 추가하고 싶을 때 사용

- ex) df.loc[:10, ['아파트', '가격']]

**df['새로운 열 이름'] = 넣고 싶은 값** : 새로운 값 추가하기

**df.sort_values(by = '열 이름')** : 데이터 정렬하기 (오름차순 정렬)

- df.sort_values(by = '열 이름', ascending = False) : 내림차순 정렬

**df.검색할 열str.find('찾는 문자열')** : 특정한 문자를 포함하는 열 추출 -> 찾는 문자열이 없다면 -1 반환

# 05-5 판다스로 통계 데이터 다루기

### 평균과 합 구하기 : mean(), sum()

### 중앙값 구하기 : median()

### 기초 통계량 요약해서 출력하기 : describe()

#### 빈도 분석하기 : value_counts()

df.변수.value_counts()

#### 두 집단 평균 구하기 : groupby()

df.groupby(그룹을 나누는 변수).연산

# 05-6 실전 통계 분석 맛보기

## 싸이파이 패키지로 t검정 하기

**t검정** 

- 두 집단의 분산을 알 수 없을 때 두 집단이 t분포를 따른다고 가정하고 평균을 비교하는 통계
- 독립된 두 집단의 평균을 비교하는 가장 간편한 데이터 분석 방법
- Scipy의 stats 모듈에서 ttest_ind() 함수 사용
  + pvalue는 유의확률을 의미하며 유의확률 값이 작을수록 유의한 차이가 있다고 해석한다.

**피어슨과 스피어만 상관관계 분석 알아보기**

- 상관관계 분석 : 두 변수가 얼마나 관계가 있는지 알아보는 방법
- 상관계수 : 상관관계 분석 결과로 도출하는 값(-1 ~ 1)
- 스피어만의 상관관계 : 변수가 어떤 값을 가지는 경우가 아닌 **순위**로 이루어진 관계
- 피어슨의 상관계수 : 순위가 아닌 연속형 자료의 상관관계

## 두 변수의 상관관계 분석하기

**판다스의 corr() 함수 사용**

- 기본 분석 방법은 피어슨 분석
- 스피어만 분석을 실행하고 싶으면 method = 'spearman' 추가

## 회귀  분석 알아보기

회귀 분석을 사용하면 상관관계 분석에서는 파악할 수 없는 두 변수 사이의 **인과관계**를 파악할 수있다

**단순 회귀 모델** : 독립 변수가 하나, 종속 변수가 하나인 회귀 분석

**다중 회귀 모델** : 종속 변수는 하나인데 독립 변수가 여러 개인 모델

### statsmodels 패키지로 회귀 분석하기

- statsmodels 패키지의 formula.api만 임포트

- 패키지 안의 ols() 함수 이용

  + ```python
    import statsmodels.formula.api as smf
    ols(formula = '종속 변수 ~ 독립 변수', data = 데이터프레임)
    ```



